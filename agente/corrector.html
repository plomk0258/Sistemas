<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corrector Ortogr√°fico Inteligente</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        
        .editor-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }
        
        .results-section {
            background: #fff;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #dee2e6;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .section-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .text-editor {
            width: 100%;
            min-height: 300px;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.3s;
            font-family: 'Courier New', monospace;
        }
        
        .text-editor:focus {
            border-color: #667eea;
            outline: none;
        }
        
        .check-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s;
        }
        
        .check-btn:hover {
            transform: translateY(-2px);
        }
        
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .error-item {
            background: #fff5f5;
            border: 2px solid #fed7d7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .error-item:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .error-word {
            color: #e53e3e;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
        }
        
        .error-type {
            color: #718096;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        
        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .suggestion {
            background: #e6fffa;
            color: #234e52;
            padding: 5px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #b2f5ea;
        }
        
        .suggestion:hover {
            background: #38b2ac;
            color: white;
            transform: translateY(-1px);
        }
        
        .confidence-bar {
            background: #e2e8f0;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
            margin: 8px 0;
        }
        
        .confidence-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        .confidence-high { background: #38a169; }
        .confidence-medium { background: #ed8936; }
        .confidence-low { background: #e53e3e; }
        
        .technical-info {
            margin-top: 30px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .algorithm-step {
            background: #edf2f7;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #4299e1;
        }
        
        .word-highlight {
            background: #fed7d7;
            color: #e53e3e;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .word-correct {
            background: #c6f6d5;
            color: #22543d;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìù Corrector Ortogr√°fico Inteligente</h1>
            <p>Detecci√≥n avanzada de errores con algoritmos de Machine Learning</p>
        </div>
        
        <div class="main-content">
            <div class="editor-section">
                <h2 class="section-title">
                    ‚úçÔ∏è Editor de Texto
                </h2>
                <textarea 
                    id="textInput" 
                    class="text-editor" 
                    placeholder="Escribe tu texto aqu√≠ para verificar la ortograf√≠a...

"
                ></textarea>
                <button class="check-btn" onclick="checkSpelling()">
                    üîç Verificar Ortograf√≠a
                </button>
            </div>
            
            <div class="results-section">
                <h2 class="section-title">
                    üìä An√°lisis Ortogr√°fico
                </h2>
                
                <div class="stats-panel">
                    <div class="stat-card">
                        <span class="stat-number" id="totalWords">0</span>
                        <span class="stat-label">Palabras</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="errorCount">0</span>
                        <span class="stat-label">Errores</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="accuracy">100%</span>
                        <span class="stat-label">Precisi√≥n</span>
                    </div>
                </div>
                
                <div id="errorsList">
                    <div style="text-align: center; color: #718096; padding: 40px;">
                        Escribe texto y presiona "Verificar Ortograf√≠a" para comenzar el an√°lisis
                    </div>
                </div>
            </div>
        </div>
        
        <div class="technical-info">
            <h3>üî¨ Tecnolog√≠a Subyacente</h3>
            <div class="algorithm-step">
                <strong>1. Tokenizaci√≥n:</strong> Separaci√≥n del texto en palabras individuales
            </div>
            <div class="algorithm-step">
                <strong>2. Normalizaci√≥n:</strong> Conversi√≥n a min√∫sculas y limpieza de caracteres especiales
            </div>
            <div class="algorithm-step">
                <strong>3. Verificaci√≥n de Diccionario:</strong> Comparaci√≥n con base de datos de palabras v√°lidas
            </div>
            <div class="algorithm-step">
                <strong>4. Algoritmo de Distancia Levenshtein:</strong> C√°lculo de similitud entre palabras
            </div>
            <div class="algorithm-step">
                <strong>5. An√°lisis Fon√©tico:</strong> Comparaci√≥n por pronunciaci√≥n similar
            </div>
            <div class="algorithm-step">
                <strong>6. Ranking de Sugerencias:</strong> Ordenamiento por probabilidad de correcci√≥n
            </div>
        </div>
    </div>

    <script>
        // Diccionario base en espa√±ol 
 const dictionary = new Set([
    // Palabras b√°sicas originales
    'el', 'la', 'de', 'que', 'y', 'a', 'en', 'un', 'es', 'se', 'no', 'te', 'lo', 'le', 'da', 'su', 'por', 'son', 'con', 'para', 'al', 'como', 'las', 'pero', 'sus', 'del', 'est√°', 'todo', 'una', 'son', 'me', 'uno', 'tiene', 'm√°s', 'muy', 'puede', 'mi', 'sin', 'sobre', 'este', 'ya', 'entre', 'cuando', 'hasta', 'desde', 'ser', 'los', 'si', 'porque', 'qu√©', 'solo', 'han', 'hay', 'esta', 's√≠', 'fue', 'tan', 'tanto', 'donde', 'mientras', 'quien', 'menos', 'estos', 'ese', 'ni', 'yo', 'otro', '√©l', 'eso', 'ahora', 'cada', 'e', 'vida', 'nada', 'nivel', 'bien', 'pa√≠s', 'hombre', 'agua', 'd√≠a', 'parte', 'tiempo', 'trabajo', 'gobierno', 'n√∫mero', 'grupo', 'a√±o', 'caso', 'empresa', 'lugar', 'forma', 'mujer', 'dar', 'llegar', 'pasar', 'primera', 'mano', 'informaci√≥n', 'momento', 'problema', 'servicio', 'hijo', 'vez', 'cabeza', 'proceso', 'cambio', 'programa', 'mercado', 'realidad', 'historia', 'precio', 'recurso', 'tipo', 'manera', 'persona', 'resultado', 'poder', 'ciudad', 'centro', 'campo',
    
    // Palabras espec√≠ficas originales
    'hola', 'madrid', 'programaci√≥n', 'aprendiendo', 'python', 'tambi√©n', 'ciencia', 'ficci√≥n', 'nombre', 'juan', 'vivo', 'gusta', 'mucho', 'estoy', 'encanta', 'leer', 'libros', 'desarrollo', 'tecnolog√≠a', 'inteligencia', 'artificial', 'algoritmo', 'datos', 'an√°lisis', 'sistema', 'aplicaci√≥n', 'funci√≥n', 'variable', 'c√≥digo', 'lenguaje', 'computadora', 'internet', 'software', 'hardware', 'base', 'red', 'usuario', 'cliente', 'servidor', 'archivo', 'documento', 'proyecto', 'equipo', 'soluci√≥n', 'herramienta',

    // Verbos comunes
    'hacer', 'decir', 'estar', 'tener', 'poder', 'poner', 'venir', 'salir', 'querer', 'deber', 'saber', 'ver', 'ir', 'parecer', 'seguir', 'encontrar', 'llamar', 'volver', 'conocer', 'sentir', 'pensar', 'tomar', 'crear', 'vivir', 'creer', 'hablar', 'llevar', 'dejar', 'aparecer', 'considerar', 'o√≠r', 'escribir', 'completar', 'decidir', 'ganar', 'producir', 'abrir', 'esperar', 'ofrecer', 'recibir', 'correr', 'mover', 'pagar', 'servir', 'construir', 'mantener', 'empezar', 'conseguir', 'aceptar', 'recordar', 'terminar', 'permitir', 'aprender', 'cambiar', 'actuar', 'necesitar', 'crecer', 'estudiar', 'ayudar', 'jugar', 'trabajar', 'caminar', 'comprar', 'vender', 'cocinar', 'dormir', 'despertar', 'levantarse', 'sentarse', 'acostarse', 'ba√±arse', 'vestirse', 'lavarse', 'cepillarse', 'peinarse', 'maquillarse', 'afeitarse',

    // Sustantivos comunes
    'casa', 'familia', 'madre', 'padre', 'hermano', 'hermana', 'abuelo', 'abuela', 't√≠o', 't√≠a', 'primo', 'prima', 'nieto', 'nieta', 'esposo', 'esposa', 'novio', 'novia', 'amigo', 'amiga', 'beb√©', 'ni√±o', 'ni√±a', 'joven', 'adulto', 'persona', 'gente', 'mundo', 'tierra', 'cielo', 'sol', 'luna', 'estrella', 'nube', 'lluvia', 'viento', 'nieve', 'calor', 'fr√≠o', 'primavera', 'verano', 'oto√±o', 'invierno', 'lunes', 'martes', 'mi√©rcoles', 'jueves', 'viernes', 's√°bado', 'domingo', 'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', 'ma√±ana', 'tarde', 'noche', 'hora', 'minuto', 'segundo', 'semana', 'mes', 'ayer', 'hoy', 'ma√±ana', 'pasado', 'presente', 'futuro',

    // Colores
    'rojo', 'azul', 'verde', 'amarillo', 'negro', 'blanco', 'gris', 'rosa', 'morado', 'naranja', 'marr√≥n', 'violeta', 'dorado', 'plateado',

    // N√∫meros
    'cero', 'uno', 'dos', 'tres', 'cuatro', 'cinco', 'seis', 'siete', 'ocho', 'nueve', 'diez', 'once', 'doce', 'trece', 'catorce', 'quince', 'diecis√©is', 'diecisiete', 'dieciocho', 'diecinueve', 'veinte', 'treinta', 'cuarenta', 'cincuenta', 'sesenta', 'setenta', 'ochenta', 'noventa', 'cien', 'mil', 'mill√≥n', 'primero', 'segundo', 'tercero', 'cuarto', 'quinto',

    // Partes del cuerpo
    'cabeza', 'cara', 'ojo', 'oreja', 'nariz', 'boca', 'diente', 'lengua', 'cuello', 'hombro', 'brazo', 'codo', 'mu√±eca', 'mano', 'dedo', 'u√±a', 'pecho', 'espalda', 'est√≥mago', 'cintura', 'cadera', 'pierna', 'rodilla', 'tobillo', 'pie', 'coraz√≥n', 'cerebro', 'hueso', 'sangre', 'piel', 'pelo', 'cabello',

    // Comida y bebida
    'comida', 'desayuno', 'almuerzo', 'cena', 'pan', 'arroz', 'pasta', 'carne', 'pollo', 'pescado', 'huevo', 'leche', 'queso', 'mantequilla', 'aceite', 'sal', 'az√∫car', 'miel', 'fruta', 'manzana', 'pl√°tano', 'naranja', 'lim√≥n', 'uva', 'fresa', 'pera', 'durazno', 'sand√≠a', 'mel√≥n', 'verdura', 'lechuga', 'tomate', 'cebolla', 'ajo', 'papa', 'zanahoria', 'br√≥coli', 'espinaca', 'agua', 'jugo', 'caf√©', 't√©', 'vino', 'cerveza', 'refresco', 'postre', 'helado', 'pastel', 'chocolate', 'galleta', 'dulce', 'caramelo',

    // Ropa
    'ropa', 'camisa', 'pantal√≥n', 'falda', 'vestido', 'chaqueta', 'abrigo', 'su√©ter', 'camiseta', 'blusa', 'corbata', 'cintur√≥n', 'zapato', 'bota', 'sandalia', 'calcet√≠n', 'media', 'ropa interior', 'pijama', 'sombrero', 'gorra', 'guante', 'bufanda',

    // Casa y muebles
    'dormitorio', 'sala', 'cocina', 'ba√±o', 'comedor', 'oficina', 'jard√≠n', 'balc√≥n', 'terraza', 'puerta', 'ventana', 'pared', 'techo', 'suelo', 'escalera', 'cama', 'sof√°', 'silla', 'mesa', 'escritorio', 'armario', 'estante', 'espejo', 'l√°mpara', 'televisi√≥n', 'radio', 'tel√©fono', 'computadora', 'refrigerador', 'estufa', 'horno', 'lavadora', 'secadora',

    // Transporte
    'coche', 'carro', 'auto', 'autom√≥vil', 'autob√∫s', 'tren', 'avi√≥n', 'barco', 'bicicleta', 'motocicleta', 'taxi', 'metro', 'tranv√≠a', 'cami√≥n', 'camioneta', 'gasolina', 'combustible', 'carretera', 'calle', 'avenida', 'plaza', 'estaci√≥n', 'aeropuerto', 'puerto', 'sem√°foro', 'puente', 't√∫nel',

    // Educaci√≥n y trabajo
    'escuela', 'colegio', 'universidad', 'instituto', 'clase', 'curso', 'lecci√≥n', 'examen', 'tarea', 'estudiante', 'profesor', 'maestro', 'director', 'libro', 'cuaderno', 'l√°piz', 'bol√≠grafo', 'papel', 'pizarra', 'escritorio', 'biblioteca', 'oficina', 'jefe', 'empleado', 'trabajo', 'empleo', 'profesi√≥n', 'carrera', 'sueldo', 'salario', 'dinero', 'banco', 'tarjeta', 'efectivo', 'cheque',

    // Emociones y sentimientos
    'feliz', 'triste', 'enojado', 'contento', 'alegre', 'preocupado', 'nervioso', 'tranquilo', 'cansado', 'aburrido', 'emocionado', 'asustado', 'sorprendido', 'orgulloso', 'avergonzado', 'celoso', 'enamorado', 'amor', 'cari√±o', 'odio', 'miedo', 'alegr√≠a', 'tristeza', 'ira', 'paz', 'esperanza', 'sue√±o', 'pesadilla',

    // Adjetivos comunes
    'grande', 'peque√±o', 'alto', 'bajo', 'largo', 'corto', 'ancho', 'estrecho', 'grueso', 'delgado', 'gordo', 'flaco', 'fuerte', 'd√©bil', 'r√°pido', 'lento', 'nuevo', 'viejo', 'joven', 'antiguo', 'moderno', 'f√°cil', 'dif√≠cil', 'simple', 'complicado', 'barato', 'caro', 'rico', 'pobre', 'limpio', 'sucio', 'claro', 'oscuro', 'brillante', 'opaco', 'suave', 'duro', 'caliente', 'fr√≠o', 'tibio', 'seco', 'h√∫medo', 'mojado', 'lleno', 'vac√≠o', 'abierto', 'cerrado', 'p√∫blico', 'privado', 'nacional', 'internacional', 'local', 'regional', 'global', 'mundial',

    // Deportes y entretenimiento
    'f√∫tbol', 'baloncesto', 'tenis', 'golf', 'b√©isbol', 'nataci√≥n', 'correr', 'caminar', 'gimnasio', 'ejercicio', 'deporte', 'equipo', 'jugador', 'partido', 'juego', 'ganar', 'perder', 'empatar', 'pel√≠cula', 'cine', 'teatro', 'concierto', 'm√∫sica', 'canci√≥n', 'baile', 'danza', 'arte', 'pintura', 'dibujo', 'escultura', 'museo', 'galer√≠a', 'festival', 'fiesta', 'celebraci√≥n', 'cumplea√±os', 'boda', 'graduaci√≥n',

    // Tecnolog√≠a ampliada
    'm√≥vil', 'celular', 'smartphone', 'tablet', 'ordenador', 'port√°til', 'rat√≥n', 'teclado', 'pantalla', 'monitor', 'impresora', 'esc√°ner', 'c√°mara', 'fotograf√≠a', 'video', 'audio', 'm√∫sica', 'pel√≠cula', 'juego', 'videojuego', 'aplicaci√≥n', 'app', 'programa', 'navegador', 'buscador', 'p√°gina', 'sitio', 'web', 'blog', 'correo', 'email', 'mensaje', 'chat', 'llamada', 'videollamada', 'redes', 'sociales', 'facebook', 'twitter', 'instagram', 'whatsapp', 'youtube', 'google', 'wifi', 'bluetooth', 'usb', 'cable', 'bater√≠a', 'cargador', 'memoria', 'disco', 'duro', 'nube', 'backup', 'copia', 'seguridad', 'virus', 'antivirus', 'firewall', 'contrase√±a', 'usuario', 'cuenta', 'perfil', 'configuraci√≥n', 'ajustes',

    // Salud y medicina
    'salud', 'enfermedad', 'medicina', 'm√©dico', 'doctor', 'hospital', 'cl√≠nica', 'farmacia', 'medicamento', 'pastilla', 'inyecci√≥n', 'vacuna', 'operaci√≥n', 'cirug√≠a', 'tratamiento', 'cura', 'dolor', 'fiebre', 'tos', 'gripe', 'resfriado', 'alergia', 'infecci√≥n', 'herida', 'cicatriz', 'vendaje', 'yeso', 'muletas', 'silla', 'ruedas', 'ambulancia', 'emergencia', 'urgencia', 'primeros', 'auxilios',

    // Naturaleza y animales
    'animal', 'perro', 'gato', 'p√°jaro', 'pez', 'caballo', 'vaca', 'cerdo', 'oveja', 'cabra', 'pollo', 'gallo', 'gallina', 'pato', 'ganso', 'conejo', 'rat√≥n', 'rata', 'hamster', 'le√≥n', 'tigre', 'elefante', 'jirafa', 'mono', 'oso', 'lobo', 'zorro', 'ciervo', '√°guila', 'halc√≥n', 'b√∫ho', 'serpiente', 'lagarto', 'tortuga', 'rana', 'mariposa', 'abeja', 'hormiga', 'ara√±a', 'mosca', 'mosquito', '√°rbol', 'flor', 'hoja', 'rama', 'ra√≠z', 'tronco', 'hierba', 'c√©sped', 'jard√≠n', 'parque', 'bosque', 'selva', 'desierto', 'monta√±a', 'colina', 'valle', 'r√≠o', 'lago', 'mar', 'oc√©ano', 'playa', 'arena', 'roca', 'piedra', 'isla', 'continente', 'pa√≠s', 'estado', 'provincia', 'regi√≥n', 'ciudad', 'pueblo', 'aldea', 'barrio', 'vecindario'
]);

// Errores comunes y correcciones expandidas
const commonMistakes = {
    // Errores originales
    'madrit': 'madrid',
    'programacion': 'programaci√≥n',
    'aprendendo': 'aprendiendo',
    'tambien': 'tambi√©n',
    'siencia': 'ciencia',
    'ficcion': 'ficci√≥n',
    'ola': 'hola',
    'k': 'que',
    'q': 'que',
    'xq': 'porque',
    'porq': 'porque',
    'bn': 'bien',
    'tbn': 'tambi√©n',
    'msj': 'mensaje',
    'pq': 'porque',
    'wey': 'g√ºey',
    'we': 'g√ºey',

    // Errores de acentos
    'mas': 'm√°s',
    'mi': 'm√≠',
    'tu': 't√∫',
    'el': '√©l',
    'si': 's√≠',
    'te': 't√©',
    'solo': 's√≥lo',
    'como': 'c√≥mo',
    'cuando': 'cu√°ndo',
    'donde': 'd√≥nde',
    'que': 'qu√©',
    'quien': 'qui√©n',
    'cual': 'cu√°l',
    'cuanto': 'cu√°nto',
    'acion': 'aci√≥n',
    'informacion': 'informaci√≥n',
    'nacion': 'naci√≥n',
    'educacion': 'educaci√≥n',
    'situacion': 'situaci√≥n',
    'relacion': 'relaci√≥n',
    'creacion': 'creaci√≥n',
    'comunicacion': 'comunicaci√≥n',
    'organizacion': 'organizaci√≥n',
    'participacion': 'participaci√≥n',
    'colaboracion': 'colaboraci√≥n',
    'innovacion': 'innovaci√≥n',
    'transformacion': 'transformaci√≥n',

    // Errores de h
    'aber': 'haber',
    'acer': 'hacer',
    'ablar': 'hablar',
    'ola': 'hola',
    'ombre': 'hombre',
    'oy': 'hoy',
    'ora': 'hora',
    'asta': 'hasta',
    'ermano': 'hermano',
    'istoria': 'historia',
    'otel': 'hotel',
    'ospital': 'hospital',

    // Errores de b/v
    'benir': 'venir',
    'bolver': 'volver',
    'bivir': 'vivir',
    'berdad': 'verdad',
    'berde': 'verde',
    'baca': 'vaca',
    'biento': 'viento',
    'biaje': 'viaje',
    'abia': 'hab√≠a',
    'estaba': 'estaba',
    'tenia': 'ten√≠a',
    'sabia': 'sab√≠a',

    // Errores de ll/y
    'llo': 'yo',
    'lloviendo': 'lloviendo',
    'callendo': 'cayendo',
    'oyendo': 'oyendo',
    'leyendo': 'leyendo',
    'creyendo': 'creyendo',
    'huyendo': 'huyendo',

    // Contracciones y abreviaciones
    'd': 'de',
    'x': 'por',
    'xa': 'para',
    'xo': 'pero',
    '√±': '√±',
    'n': 'en',
    'sta': 'est√°',
    'toy': 'estoy',
    'tas': 'est√°s',
    'ta': 'est√°',
    'tngo': 'tengo',
    'tnes': 'tienes',
    'tne': 'tiene',
    'ace': 'hace',
    'aces': 'haces',
    'dnd': 'donde',
    'cnd': 'cuando',
    'cm': 'como',
    'xfa': 'por favor',
    'pf': 'por favor',
    'pfv': 'por favor',
    'grax': 'gracias',
    'gcs': 'gracias',
    'tq': 'te quiero',
    'tkm': 'te quiero mucho',
    'tam': 'tambi√©n',
    'tmb': 'tambi√©n',
    'pqe': 'porque',
    'xqe': 'porque',

    // Palabras en ingl√©s comunes
    'ok': 'vale',
    'bye': 'adi√≥s',
    'hi': 'hola',
    'hello': 'hola',
    'sorry': 'perd√≥n',
    'please': 'por favor',
    'thanks': 'gracias',
    'you': 't√∫',
    'me': 'yo',
    'yes': 's√≠',
    'no': 'no',
    'good': 'bueno',
    'bad': 'malo',
    'nice': 'bonito',
    'cool': 'genial',
    'love': 'amor',
    'like': 'gustar',
    'want': 'querer',
    'need': 'necesitar',
    'have': 'tener',
    'go': 'ir',
    'come': 'venir',
    'see': 'ver',
    'know': 'saber',
    'think': 'pensar',
    'say': 'decir',
    'tell': 'contar',
    'get': 'conseguir',
    'give': 'dar',
    'take': 'tomar',
    'make': 'hacer',
    'put': 'poner',

    // Errores de escritura r√°pida en m√≥vil
    'ase': 'hace',
    'ases': 'haces',
    'ase': 'hace',
    'iso': 'hizo',
    'isieron': 'hicieron',
    'pusieron': 'pusieron',
    'dijeron': 'dijeron',
    'fueron': 'fueron',
    'tubieron': 'tuvieron',
    'estubo': 'estuvo',
    'ubiera': 'hubiera',
    'ubiese': 'hubiese',
    'aiga': 'haya',
    'aver': 'a ver',
    'haber': 'a ver', // cuando se usa como expresi√≥n
    'echo': 'hecho',
    'echa': 'hecha',
    'botar': 'votar', // en contexto electoral
    'votar': 'botar', // en contexto de tirar
    'coser': 'cocer',
    'cocer': 'coser',

    // Errores regionales y modismos
    'pos': 'pues',
    'tons': 'entonces',
    'weno': 'bueno',
    'sta': 'est√°',
    'toy': 'estoy',
    'noc': 'no s√©',
    'nose': 'no s√©',
    'segun': 'seg√∫n',
    'talves': 'tal vez',
    'talvez': 'tal vez',
    'deveras': 'de veras',
    'denada': 'de nada',
    'porsierto': 'por cierto',
    'acerca': 'acerca',
    'asia': 'hacia',
    'acia': 'hacia',

    // N√∫meros mal escritos
    'dies': 'diez',
    'onse': 'once',
    'dose': 'doce',
    'trese': 'trece',
    'catorse': 'catorce',
    'quinse': 'quince',
    'diesiseis': 'diecis√©is',
    'diesisiete': 'diecisiete',
    'diesiocho': 'dieciocho',
    'diesinueve': 'diecinueve',
    'beinte': 'veinte',
    'treinta': 'treinta',
    'cuarenta': 'cuarenta',
    'sincuenta': 'cincuenta',
    'sesenta': 'sesenta',
    'setenta': 'setenta',
    'ochenta': 'ochenta',
    'nobenta': 'noventa',
    'sien': 'cien',
    'siento': 'ciento',
    'mil': 'mil',
    'millon': 'mill√≥n'
};


        // Funci√≥n para calcular la distancia de Levenshtein
        function levenshteinDistance(str1, str2) {
            const matrix = [];
            const n = str1.length;
            const m = str2.length;

            if (n === 0) return m;
            if (m === 0) return n;

            for (let i = 0; i <= n; i++) {
                matrix[i] = [i];
            }

            for (let j = 0; j <= m; j++) {
                matrix[0][j] = j;
            }

            for (let i = 1; i <= n; i++) {
                for (let j = 1; j <= m; j++) {
                    const cost = str1[i - 1] === str2[j - 1] ? 0 : 1;
                    matrix[i][j] = Math.min(
                        matrix[i - 1][j] + 1,
                        matrix[i][j - 1] + 1,
                        matrix[i - 1][j - 1] + cost
                    );
                }
            }

            return matrix[n][m];
        }

        // Funci√≥n para generar sugerencias basadas en distancia
        function generateSuggestions(word) {
            const suggestions = [];
            const maxDistance = Math.min(3, Math.ceil(word.length / 3));

            // Verificar errores comunes primero
            if (commonMistakes[word.toLowerCase()]) {
                suggestions.push({
                    word: commonMistakes[word.toLowerCase()],
                    confidence: 95,
                    type: 'Error com√∫n'
                });
            }

            // Buscar en diccionario por distancia de Levenshtein
            for (const dictWord of dictionary) {
                if (Math.abs(dictWord.length - word.length) <= maxDistance) {
                    const distance = levenshteinDistance(word.toLowerCase(), dictWord);
                    if (distance <= maxDistance && distance > 0) {
                        const confidence = Math.max(20, 100 - (distance * 25));
                        suggestions.push({
                            word: dictWord,
                            confidence: confidence,
                            type: 'Similitud l√©xica'
                        });
                    }
                }
            }

            // Ordenar por confianza
            return suggestions
                .sort((a, b) => b.confidence - a.confidence)
                .slice(0, 5);
        }

        // Funci√≥n principal de verificaci√≥n ortogr√°fica
        function checkSpelling() {
            const text = document.getElementById('textInput').value;
            if (!text.trim()) {
                alert('Por favor, ingresa texto para verificar');
                return;
            }

            // Tokenizaci√≥n avanzada
            const words = text.toLowerCase()
                .replace(/[^\w\s√°√©√≠√≥√∫√º√±]/g, ' ')
                .split(/\s+/)
                .filter(word => word.length > 0);

            const errors = [];
            const totalWords = words.length;
            let errorCount = 0;

            // An√°lisis de cada palabra
            for (let i = 0; i < words.length; i++) {
                const word = words[i];
                
                // Verificar si la palabra est√° en el diccionario
                if (!dictionary.has(word) && !isNumber(word)) {
                    const suggestions = generateSuggestions(word);
                    errors.push({
                        word: word,
                        position: i,
                        suggestions: suggestions,
                        type: determineErrorType(word)
                    });
                    errorCount++;
                }
            }

            // Actualizar estad√≠sticas
            updateStats(totalWords, errorCount);
            
            // Mostrar errores
            displayErrors(errors);
        }

        function isNumber(str) {
            return !isNaN(str) && !isNaN(parseFloat(str));
        }

        function determineErrorType(word) {
            if (commonMistakes[word]) return 'Error com√∫n';
            if (word.length <= 3) return 'Palabra corta';
            if (!/[aeiou√°√©√≠√≥√∫]/i.test(word)) return 'Sin vocales';
            return 'Error ortogr√°fico';
        }

        function updateStats(total, errors) {
            document.getElementById('totalWords').textContent = total;
            document.getElementById('errorCount').textContent = errors;
            const accuracy = total > 0 ? Math.round(((total - errors) / total) * 100) : 100;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        function displayErrors(errors) {
            const errorsList = document.getElementById('errorsList');
            
            if (errors.length === 0) {
                errorsList.innerHTML = `
                    <div style="text-align: center; color: #38a169; padding: 40px;">
                        <div style="font-size: 3em; margin-bottom: 15px;">‚úÖ</div>
                        <h3>¬°Perfecto! No se encontraron errores ortogr√°ficos</h3>
                        <p>Tu texto tiene una ortograf√≠a excelente.</p>
                    </div>
                `;
                return;
            }

            let html = '';
            errors.forEach((error, index) => {
                html += `
                    <div class="error-item">
                        <div class="error-word">‚ùå "${error.word}"</div>
                        <div class="error-type">Tipo: ${error.type}</div>
                        <div style="margin-bottom: 10px; font-size: 0.9em; color: #666;">
                            Sugerencias de correcci√≥n:
                        </div>
                        <div class="suggestions">
                            ${error.suggestions.map(sugg => `
                                <div class="suggestion" onclick="applySuggestion('${error.word}', '${sugg.word}')">
                                    ${sugg.word}
                                    <div class="confidence-bar">
                                        <div class="confidence-fill ${getConfidenceClass(sugg.confidence)}" 
                                             style="width: ${sugg.confidence}%"></div>
                                    </div>
                                    <small>${sugg.confidence}% confianza</small>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            errorsList.innerHTML = html;
        }

        function getConfidenceClass(confidence) {
            if (confidence >= 70) return 'confidence-high';
            if (confidence >= 40) return 'confidence-medium';
            return 'confidence-low';
        }

        function applySuggestion(originalWord, suggestion) {
            const textArea = document.getElementById('textInput');
            const text = textArea.value;
            
            // Crear expresi√≥n regular para reemplazar la palabra completa
            const regex = new RegExp('\\b' + originalWord + '\\b', 'gi');
            const newText = text.replace(regex, suggestion);
            
            textArea.value = newText;
            
            // Mostrar confirmaci√≥n
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #38a169;
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            notification.innerHTML = `‚úÖ "${originalWord}" corregido a "${suggestion}"`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
            
            // Re-verificar autom√°ticamente
            setTimeout(() => {
                checkSpelling();
            }, 500);
        }

        // Verificaci√≥n autom√°tica mientras se escribe (con debounce)
        let timeout;
        document.getElementById('textInput').addEventListener('input', function() {
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                if (this.value.trim()) {
                    checkSpelling();
                }
            }, 1500);
        });

        // Animaci√≥n CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>